<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="This website is developed to identify the safety of URLs.">
    <meta name="keywords" content="phishing url, phishing, cyber security, machine learning, classifier, python">
    <meta name="author" content="VAIBHAV BICHAVE">

    <!-- BootStrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gZ9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
        
    <link href="static/index2.css" rel="stylesheet">
    <title>PDF Detection</title>
</head>
<body>
    
<div class="container" id="form-container">
    <div class="row">
        <div class="form col-md" id="form1">
            <h2 class="title">MALICIOUS PDF DETECTION</h2>    
            <br>
            <form action="/result_predict" method="post" enctype="multipart/form-data">
                <label style="color: white;" for="pdf-upload">Upload your PDF:</label>
                <input style="background-color: cornsilk;" type="file" id="pdf_file" name="pdf_file" accept="application/pdf" required><br>
                <button type="submit">Detect</button><br>
            </form>   
            {% if result %}
                <h2 style="color: chartreuse;">{{ result }}</h2><br>
                {% if benign %}
                    <p style="color: cornflowerblue;">Your PDF is Malicious free and is ready to open.</p><br>
                    <button id="view-pdf-button" class="btn btn-success">View PDF</button>
                    <div id="pdf-container" style="display:none; margin-top: 20px;">
                        <embed src="data:application/pdf;base64,{{ pdf_content }}" width="800" height="500" type="application/pdf">
                    </div>
                {% endif %}
            {% endif %}

            {% if error %}
                <h2 style="color: red;">{{ error }}</h2>
            {% endif %}
   
        </div>
    </div>
</div>

<!-- JavaScript -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
    crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
    integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
    crossorigin="anonymous"></script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const viewPdfButton = document.getElementById('view-pdf-button');
        const pdfContainer = document.getElementById('pdf-container');

        if (viewPdfButton) {
            viewPdfButton.addEventListener('click', function() {
                pdfContainer.style.display = 'block';
            });
        }
    });
</script>
</body>
</html>
